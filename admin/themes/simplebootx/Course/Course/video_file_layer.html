<!DOCTYPE html>

<!--[if IE 8]> <html lang="en" class="ie8 no-js"> <![endif]-->

<!--[if IE 9]> <html lang="en" class="ie9 no-js"> <![endif]-->

<!--[if !IE]><!--> <html lang="en" class="no-js"> <!--<![endif]-->

<!-- BEGIN HEAD -->

<head>

	<meta charset="utf-8" />

	<title>Metronic | Admin Dashboard Template</title>

	<meta content="width=device-width, initial-scale=1.0" name="viewport" />

	<meta content="" name="description" />

	<meta content="" name="author" />

	<!-- 引入顶部样式文件 -->
	<link href="__PUBLIC__/media/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>

	<link href="__PUBLIC__/media/css/bootstrap-responsive.min.css" rel="stylesheet" type="text/css"/>
	<style>
		.expander{margin-left: -20px;}
		.controls input[type="radio"] {margin-left:0px;}
	</style>

</head>

<!-- END HEAD -->

<!-- BEGIN BODY -->

<body class="page-header-fixed">

	<!-- 引入顶部开始 -->


	<!-- 引入顶部结束 -->

	<!-- BEGIN CONTAINER -->

	<div class="page-container">

		<!-- 引入左侧边栏开始 -->


		<!-- 引入左侧边栏结束 -->

		<!-- BEGIN PAGE -->

		<div class="page-content">

			<!-- BEGIN PAGE CONTAINER-->

			<div class="container-fluid">

				<!-- END PAGE HEADER-->

				<!-- 右边主页面开始 -->
				<script type="text/javascript" src="http://code.jquery.com/jquery-1.12.0.min.js"></script>  
				<script type="text/javascript" src="http://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>  
				<script>  
					$(document).ready(function() {   
						  
						//添加行  
						$("#AddMoreFileBox").click(function (e) {
				            str = $("#con").html()
				            $("#InputsWrapper table tbody").append("<tr>"+str+"</tr>");
						});  
						
						//删除行  
						$("#InputsWrapper table").on("click", "tr td a", function(e){
							var thistrindex = $(this).parents('table').find('tr')
							if(thistrindex.length==2){
								return false
							}else{
								$(this).parents('tr').remove(); 
							}
						}); 
					  
					});  
				</script>

			</head>  
			<body>
			  	<table style="display:none;">
					<tr id="con">
						<td><input type="text" name="page[]"></td>
						<td>
							<select name="point[]">
								<option value="">--请选择--</option>
								{$option_str}
							</select>
						</td>
						<td><a href="javascript:void(0);" class="removeclass">×</a></td>
					</tr>
				</table>
			<form method="post" class="form-horizontal js-ajax-form" action="{:U('Course/video_file_layer_post')}">
				<input type="hidden" name="planid" value="{$id}"/>

				<div id="InputsWrapper">
					<table>
							<tr><td>锚点位置</td><td>关联知识点</td><td>操作</td></tr>
							<foreach name="maparr" item="vo">
							<tr>
								<td><input type="text" name="page[]" value="{$vo.position}"></td>
								<td>
									<input type="text"  value="{$vo.cata_name}">
									<input type="hidden" name="point[]"  value="{$vo.cata_id}">
								</td>
								<td><a href="javascript:void(0);" class="removeclass">×</a></td>
							</tr>
							</foreach>
					</table>
				</div>

				<a href="javascript:void(0)" id="AddMoreFileBox" class="btn btn-info">添加行</a>

				<div class="form-actions">
					<button type="submit" class="btn btn-primary js-ajax-submit">保存并下一步</button>
					<a class="btn" href="javascript:history.back(-1);">{:L('BACK')}</a>
				</div>
			</form>
			<!-- 右边主页面结束 -->
			</div>
			<!-- END PAGE CONTAINER-->    
			
		</div>

		<!-- END PAGE -->

	</div>
<!-- 加载的右边框架 -->


	<!-- END CONTAINER -->
			
	<!-- 引入底部开始 -->


	<!-- 引入底部结束 -->


</body>

<!-- END BODY -->

</html>




